#N canvas 87 144 711 655 10;
#N canvas 1 87 667 681 presetreader 0;
#X obj 102 179 textfile;
#X msg 68 142 read \$1 \, rewind;
#X obj 68 162 t b a;
#X obj 68 197 until;
#X obj 102 196 route osc1-amplitude osc1-waveform osc1-finetune lfo1-freq
lfo1-waveform lfo1-to-amplitude lfo1-to-freq osc2-amplitude osc2-waveform
osc2-finetune lfo2-freq lfo2-waveform lfo2-to-amplitude lfo2-to-freq
osc3-amplitude osc3-waveform osc3-finetune lfo3-freq lfo3-waveform
lfo3-to-amplitude lfo3-to-freq noise-amplitude lp-freq lp-resonance
lp-keyfollow lp-contour lp-envelope-a lp-envelope-d lp-envelope-s lp-envelope-r
lp-lfo-freq lp-lfo-waveform lp-lfo-amplitude hp-freq hp-resonance hp-keyfollow
hp-contour hp-envelope-a hp-envelope-d hp-envelope-s hp-envelope-r
hp-lfo-freq hp-lfo-waveform hp-lfo-amplitude envelope-a envelope-d
envelope-s envelope-r;
#X obj 95 356 pack f f f f f f f f f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f f f f f f f f f f;
#X obj 68 262 t b b;
#X obj 68 74 inlet;
#X text 68 55 Presetname;
#X obj 95 453 outlet;
#X text 93 470 Preset vector in order;
#X obj 110 404 list split 1;
#X msg 68 96 symbol /home/rafaelvega/Projects/Active/Sinte/repo/res/pd/presets/\$1
;
#X connect 0 0 4 0;
#X connect 0 1 6 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 0 0;
#X connect 3 0 0 0;
#X connect 4 0 5 1;
#X connect 4 1 5 2;
#X connect 4 2 5 3;
#X connect 4 3 5 4;
#X connect 4 4 5 5;
#X connect 4 5 5 6;
#X connect 4 6 5 7;
#X connect 4 7 5 8;
#X connect 4 8 5 9;
#X connect 4 9 5 10;
#X connect 4 10 5 11;
#X connect 4 11 5 12;
#X connect 4 12 5 13;
#X connect 4 13 5 14;
#X connect 4 14 5 15;
#X connect 4 15 5 16;
#X connect 4 16 5 17;
#X connect 4 17 5 18;
#X connect 4 18 5 19;
#X connect 4 19 5 20;
#X connect 4 20 5 21;
#X connect 4 21 5 22;
#X connect 4 22 5 23;
#X connect 4 23 5 24;
#X connect 4 24 5 25;
#X connect 4 25 5 26;
#X connect 4 26 5 27;
#X connect 4 27 5 28;
#X connect 4 28 5 29;
#X connect 4 29 5 30;
#X connect 4 30 5 31;
#X connect 4 31 5 32;
#X connect 4 32 5 33;
#X connect 4 33 5 34;
#X connect 4 34 5 35;
#X connect 4 35 5 36;
#X connect 4 36 5 37;
#X connect 4 37 5 38;
#X connect 4 38 5 39;
#X connect 4 39 5 40;
#X connect 4 40 5 41;
#X connect 4 41 5 42;
#X connect 4 42 5 43;
#X connect 4 43 5 44;
#X connect 4 44 5 45;
#X connect 4 45 5 46;
#X connect 4 46 5 47;
#X connect 4 47 5 48;
#X connect 5 0 11 0;
#X connect 6 0 5 0;
#X connect 6 1 3 1;
#X connect 7 0 12 0;
#X connect 11 1 9 0;
#X connect 12 0 1 0;
#X restore -388 161 pd presetreader;
#X msg -29 233 bang;
#X msg -117 233 0;
#X text -161 216 clear the matrix;
#X msg -181 132 0;
#X text -182 115 reset;
#X text -32 214 print!;
#N canvas 1 82 333 300 format 0;
#X obj 110 98 f;
#X obj 134 98 + 1;
#X msg 25 81 0;
#X obj 110 117 / 2;
#X obj 110 134 int;
#X text 25 63 reset;
#X msg 110 189 row \$1;
#X obj 110 151 change;
#X obj 110 73 t b a;
#X obj 110 209 list append;
#X obj 110 229 list trim;
#X obj 110 169 + 1;
#X obj 110 52 inlet;
#X obj 255 38 inlet;
#X obj 110 254 outlet;
#X connect 0 0 1 0;
#X connect 0 0 3 0;
#X connect 1 0 0 1;
#X connect 2 0 0 1;
#X connect 3 0 4 0;
#X connect 4 0 7 0;
#X connect 6 0 9 0;
#X connect 7 0 11 0;
#X connect 8 0 0 0;
#X connect 8 1 9 1;
#X connect 9 0 10 0;
#X connect 10 0 14 0;
#X connect 11 0 6 0;
#X connect 12 0 8 0;
#X connect 13 0 2 0;
#X restore -388 186 pd format preset vector with number;
#X obj -382 233 r tomatrix;
#X obj -388 284 s frommatrix;
#N canvas 474 243 870 489 readallpresets 0;
#X obj 398 208 directory;
#X obj 468 13 loadbang;
#X obj 253 -30 inlet;
#X obj 253 104 until;
#X msg 253 60 bang;
#X msg 280 36 rewind;
#X obj 253 5 t b b;
#X obj 398 233 select . .. .gitkeep;
#X obj 515 264 outlet;
#X msg 468 59 read /home/rafaelvega/Projects/Active/Sinte/repo/res/pd/presets
;
#X connect 0 0 7 0;
#X connect 0 1 3 1;
#X connect 1 0 9 0;
#X connect 2 0 6 0;
#X connect 3 0 0 0;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X connect 6 0 4 0;
#X connect 6 1 5 0;
#X connect 7 3 8 0;
#X connect 9 0 0 0;
#X restore -388 132 pd readallpresets;
#X obj -388 104 t b b;
#N canvas 1 87 450 300 add 0;
#X obj 82 13 inlet;
#X obj 90 226 list append;
#X obj 204 157 repack 13;
#X obj 204 100 until;
#X obj 204 176 t a b;
#X obj 100 55 t a b;
#X obj 148 279 outlet;
#X obj 148 259 list trim;
#X obj 204 119 random 100;
#X obj 204 138 / 100;
#X connect 0 0 5 0;
#X connect 1 0 7 0;
#X connect 2 0 4 0;
#X connect 3 0 8 0;
#X connect 4 0 1 1;
#X connect 4 1 3 1;
#X connect 5 0 1 0;
#X connect 5 1 3 0;
#X connect 7 0 6 0;
#X connect 8 0 9 0;
#X connect 9 0 2 0;
#X restore -388 213 pd add MFCC to vector;
#X msg -154 185 bang;
#X text -308 260 1-48: presets \, 49-61: MFCC;
#N canvas 452 82 905 717 calcular 1;
#X obj 155 363 list split;
#X obj 285 363 list split;
#X obj 183 383 list split 1;
#X obj 313 383 list split 1;
#X text 368 422 <<<<<<<<<< 200 = tamaño el canvas;
#X msg 285 92 reset;
#X obj 136 323 t a a a;
#X obj 212 326 + 48;
#X obj 342 325 + 48;
#X msg 136 240 row \$1;
#X obj 136 257 s tomatrix;
#X obj 136 279 r frommatrix;
#X obj 117 146 until;
#X obj 117 180 f;
#X obj 143 180 + 1;
#X msg 85 58 bang;
#X msg 157 148 0;
#X obj 136 220 + 1;
#X obj 224 216 < 44;
#X obj 136 303 spigot;
#X obj 251 129 sel 0;
#X obj 224 286 t f f;
#X obj 224 247 change;
#X obj 285 266 r selectedMFCC;
#X obj 285 285 unpack f f;
#X obj 198 423 / 200;
#X obj 328 422 / 200;
#X obj 183 441 -;
#X obj 313 441 -;
#X text 81 591 ____________________________________________________________
;
#X text 443 590 Multiplicar cada fila por su distancia y guardarla
en la matriz de resultado;
#X text 659 21 Sigma (ancho de la gráfica);
#X obj 504 211 * 5;
#X obj 504 228 expr (1/(sqrt(2*3.14159*pow($f2 \, 2)))*(exp((-1)*pow($f1
\, 2)/2*pow($f2 \, 2))))*(2.5*$f2);
#X obj 504 258 tabwrite sigma;
#X obj 504 160 f;
#X obj 526 160 + 1;
#N canvas 0 0 450 300 (subpatch) 0;
#X array sigma 100 float 1;
#A 0 0.997356 0.994429 0.985697 0.971315 0.951532 0.926688 0.897202
0.863562 0.826311 0.786032 0.743333 0.698833 0.653145 0.606866 0.560561
0.514754 0.469919 0.426474 0.384777 0.345122 0.307739 0.272797 0.240404
0.210616 0.183438 0.15883 0.136717 0.116992 0.099527 0.0841726 0.0707697
0.0591521 0.0491519 0.0406028 0.0333441 0.0272226 0.0220946 0.0178274
0.0143001 0.0114034 0.0090402 0.00712472 0.00558219 0.00434798 0.0033668
0.00259175 0.00198343 0.00150899 0.00114131 0.000858154 0.000641468
0.000476685 0.000352156 0.000258633 0.000188834 0.000137064 9.89038e-05
7.09495e-05 5.05979e-05 3.58726e-05 2.52835e-05 1.77158e-05 1.23404e-05
8.54568e-06 5.88315e-06 4.02642e-06 2.73952e-06 1.85301e-06 1.24603e-06
8.3296e-07 5.53563e-07 3.65727e-07 2.40211e-07 1.56847e-07 1.01813e-07
6.57024e-08 4.21507e-08 2.68827e-08 1.70447e-08 1.07437e-08 6.73227e-09
4.19389e-09 2.59729e-09 1.59908e-09 9.7874e-10 5.95538e-10 3.60245e-10
2.16638e-10 1.29514e-10 7.69747e-11 4.54802e-11 2.67144e-11 1.55997e-11
9.05587e-12 5.2263e-12 2.99849e-12 1.71025e-12 9.69751e-13 5.46652e-13
3.06343e-13;
#X coords 0 1 99 0 300 100 1;
#X restore 504 293 graph;
#X msg 580 138 0;
#X obj 504 194 / 100;
#X obj 504 177 t f f;
#X obj 504 140 until;
#X obj 505 122 t f b;
#X msg 505 105 100;
#X obj 837 160 clip 0 1;
#X obj 837 211 + 0.62;
#X obj 837 194 * 4.38;
#X obj 726 42 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 837 177 pow 2;
#X obj 726 190 t b f;
#X text 82 523 ____________________________________________________________
;
#X text 445 528 Calcular la distancia gauss;
#X obj 183 501 +;
#X obj 183 518 sqrt;
#X obj 313 484 pow 2;
#X obj 183 478 pow 2;
#X obj 420 41 t b f;
#X obj 313 458 abs;
#X obj 183 459 abs;
#X obj 183 578 tabread sigma;
#X obj 183 540 * 100;
#X obj 183 559 int;
#N canvas 320 139 237 246 serialize 0;
#X obj 55 155 list split 1;
#X obj 55 121 until;
#X obj 55 138 list append;
#X obj 55 104 t b l;
#X obj 124 104 bang;
#X obj 59 67 inlet;
#X obj 53 210 outlet;
#X obj 120 217 outlet;
#X obj 124 178 t b b;
#X connect 0 0 6 0;
#X connect 0 1 2 1;
#X connect 0 2 8 0;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 3 0 1 0;
#X connect 3 1 2 1;
#X connect 4 0 1 1;
#X connect 5 0 3 0;
#X connect 8 0 7 0;
#X connect 8 1 4 0;
#X restore 136 629 pd serialize a list;
#X obj 299 646 *;
#X obj 190 682 list;
#X obj 299 665 repack 48;
#X msg 117 665 row \$1;
#X obj 190 699 list trim;
#X obj 117 199 t f f f;
#X obj 136 610 list split 48;
#X text 81 710 ____________________________________________________________
;
#X text 443 714 Matriz de resultado;
#X obj 117 367 + 1;
#X obj 100 771 until;
#X msg 100 733 48;
#X obj 100 790 f;
#X obj 122 790 + 1;
#X obj 100 752 t f b;
#X msg 147 771 0;
#X text 362 665 <<< son 48 presets;
#X text 131 733 <<< son 48 presets;
#X msg 100 853 col \$1;
#X obj 146 889 sum;
#X obj 100 834 + 1;
#X obj 146 927 tabwrite parametros;
#X obj 100 811 t f f;
#N canvas 350 229 709 329 parametertable 0;
#X obj -232 198 textfile;
#X msg -232 141 rewind;
#X msg -134 181 read parameter-order.txt cr;
#X obj -161 100 loadbang;
#X obj -161 117 t b b;
#X text 36 34 /////////////////////////////////////////////////////////
;
#X text 37 58 /////////////////////////////////////////////////////////
;
#X text 39 76 Lo que hace:;
#X text 40 165 2- envía a cada slider su valor usando el nombre que
viene de el archivo y el valor de la tabla.;
#X msg -297 45 bang;
#X obj -297 107 until;
#X msg -161 134 rewind;
#X obj -297 124 t b b;
#X obj -297 196 f;
#X obj -297 62 t b b b;
#X msg -226 79 0;
#X obj -261 199 + 1;
#X obj -232 244 symbol;
#X obj -298 298 table parametros 48;
#X obj -297 261 tabread parametros;
#X obj -297 278 s;
#X text 40 101 0- carga el archivo llamado "parameter-order.txt" en
el objeto textfile;
#X text 39 124 1- Cada que recive un bang a través de la variable "spread"
lee los nombres de todos los parámetros del archivo 'parameter-order'
y paralelo lee la tabla parametros.;
#X text -171 298 <- En este momento hay 48 variables en el sintetizador
;
#X text 37 45 Desde este patch se envían valores a cada parámetro;
#X obj -297 21 inlet;
#X connect 0 0 17 0;
#X connect 0 1 10 1;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 3 0 4 0;
#X connect 4 0 11 0;
#X connect 4 1 2 0;
#X connect 9 0 14 0;
#X connect 10 0 12 0;
#X connect 11 0 0 0;
#X connect 12 0 13 0;
#X connect 12 1 0 0;
#X connect 13 0 16 0;
#X connect 13 0 19 0;
#X connect 14 0 10 0;
#X connect 14 1 1 0;
#X connect 14 2 15 0;
#X connect 15 0 13 1;
#X connect 16 0 13 1;
#X connect 17 0 20 1;
#X connect 19 0 20 0;
#X connect 25 0 9 0;
#X restore 85 948 pd parametertable;
#X obj 85 75 t b b b b b;
#X obj 420 6 inlet;
#X obj 467 6 inlet;
#X text 419 -12 xpos;
#X text 466 -14 ypos;
#X obj 38 -25 iemmatrix 0.2;
#X obj 100 871 matrix 45 48;
#X connect 0 1 2 0;
#X connect 1 1 3 0;
#X connect 2 0 27 0;
#X connect 3 0 28 0;
#X connect 6 0 69 0;
#X connect 6 1 0 0;
#X connect 6 2 1 0;
#X connect 7 0 0 1;
#X connect 8 0 1 1;
#X connect 9 0 10 0;
#X connect 11 0 19 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 13 0 68 0;
#X connect 14 0 13 1;
#X connect 15 0 87 0;
#X connect 16 0 13 1;
#X connect 17 0 9 0;
#X connect 18 0 22 0;
#X connect 19 0 6 0;
#X connect 20 0 12 1;
#X connect 21 0 19 1;
#X connect 21 1 20 0;
#X connect 22 0 21 0;
#X connect 23 0 24 0;
#X connect 24 0 7 0;
#X connect 24 1 8 0;
#X connect 25 0 27 1;
#X connect 26 0 28 1;
#X connect 27 0 58 0;
#X connect 28 0 57 0;
#X connect 32 0 33 0;
#X connect 33 0 34 0;
#X connect 35 0 36 0;
#X connect 35 0 40 0;
#X connect 36 0 35 1;
#X connect 38 0 35 1;
#X connect 39 0 32 0;
#X connect 40 0 39 0;
#X connect 40 1 34 1;
#X connect 41 0 35 0;
#X connect 42 0 41 0;
#X connect 42 1 38 0;
#X connect 43 0 42 0;
#X connect 44 0 48 0;
#X connect 45 0 33 1;
#X connect 46 0 45 0;
#X connect 47 0 49 0;
#X connect 48 0 46 0;
#X connect 49 0 43 0;
#X connect 49 1 44 0;
#X connect 52 0 53 0;
#X connect 53 0 60 0;
#X connect 54 0 52 1;
#X connect 55 0 52 0;
#X connect 56 0 15 0;
#X connect 56 1 25 0;
#X connect 57 0 54 0;
#X connect 58 0 55 0;
#X connect 59 0 63 1;
#X connect 60 0 61 0;
#X connect 61 0 59 0;
#X connect 62 0 63 0;
#X connect 63 0 65 0;
#X connect 64 0 67 0;
#X connect 65 0 64 1;
#X connect 66 0 64 0;
#X connect 67 0 93 0;
#X connect 68 0 72 0;
#X connect 68 1 17 0;
#X connect 68 2 18 0;
#X connect 69 0 62 0;
#X connect 72 0 66 0;
#X connect 73 0 75 0;
#X connect 74 0 77 0;
#X connect 75 0 76 0;
#X connect 75 0 85 0;
#X connect 76 0 75 1;
#X connect 77 0 73 0;
#X connect 77 1 78 0;
#X connect 78 0 75 1;
#X connect 81 0 93 0;
#X connect 82 0 84 0;
#X connect 83 0 81 0;
#X connect 85 0 83 0;
#X connect 85 1 84 1;
#X connect 87 0 86 0;
#X connect 87 1 74 0;
#X connect 87 2 12 0;
#X connect 87 3 16 0;
#X connect 87 4 5 0;
#X connect 88 0 56 0;
#X connect 89 0 26 0;
#X connect 93 0 82 0;
#X restore -252 503 pd calcular distancias amplitudes y matrizresultado
;
#X text -611 497 calcular distancia \, gauss \, amplitudes \, la matriz
final y el estado final >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;
#X obj -388 77 loadbang;
#X text -392 -40 TO-DO: detect current directory in [dicectory] instead
of using absolute paths;
#X text -515 132 Name of each preset:;
#X text -491 161 Read one preset:;
#X text -529 185 Give format to vector:;
#X text -392 -2 TO-DO: MFCC are random numbers for now. They should
be saved in the preset files instead;
#X obj -523 338 inlet;
#X obj -481 338 inlet;
#X text -603 336 Which mfcc x;
#X text -443 338 Which mfcc y;
#X obj -488 446 s selectedMFCC;
#X obj -488 416 pack f f;
#X obj -481 377 t b f;
#X obj -252 466 inlet;
#X obj 51 472 inlet;
#X text -254 448 XPos;
#X text 50 454 YPos;
#X text -598 213 Add 13 random mfcc coefs to preset;
#X text -523 260 Save preset in matrix;
#X msg -459 74 bang;
#X obj -568 -36 iemmatrix 0.2;
#X obj -388 260 matrix 45 61;
#X connect 0 0 7 0;
#X connect 1 0 38 0;
#X connect 2 0 38 0;
#X connect 4 0 7 1;
#X connect 4 0 13 0;
#X connect 7 0 12 0;
#X connect 8 0 38 0;
#X connect 10 0 0 0;
#X connect 11 0 10 0;
#X connect 11 1 4 0;
#X connect 12 0 38 0;
#X connect 17 0 11 0;
#X connect 23 0 28 0;
#X connect 24 0 29 0;
#X connect 28 0 27 0;
#X connect 29 0 28 0;
#X connect 29 1 28 1;
#X connect 30 0 15 0;
#X connect 31 0 15 1;
#X connect 36 0 11 0;
#X connect 38 0 9 0;
