#N canvas 0 24 1667 983 10;
#X obj -561 -203 inlet;
#X obj 507 1220 adsr;
#X obj 339 1261 *~;
#X msg 207 1047 resonance \$1;
#X obj 338 1294 outlet~;
#X obj -561 -83 mtof;
#X obj -561 -159 unpack f f;
#X obj -483 -120 s \$0-velocity;
#X obj 378 1176 r \$0-velocity;
#X msg 413 1209 \$1;
#X text -562 -223 Midi note in;
#X obj 392 1143 r _envelope-a;
#X obj 487 1146 r _envelope-d;
#X obj 518 1169 r _envelope-s;
#X obj 547 1192 r _envelope-r;
#X obj -181 -175 r _osc1-waveform;
#X obj -160 -201 r _osc1-amplitude;
#X obj 4 -177 r _lfo1-freq;
#X obj -35 -203 r _lfo1-waveform;
#X obj 76 -204 r _lfo1-to-freq;
#X obj -36 -132 oscillator-lfo;
#X text 60 -132 OSCILLATOR 1;
#X obj 186 -204 r _lfo1-to-amplitude;
#X obj 90 -177 r _osc1-finetune;
#X obj 555 -134 oscillator-lfo;
#X obj 431 -203 r _osc2-amplitude;
#X obj 556 -205 r _lfo2-waveform;
#X obj 667 -206 r _lfo2-to-freq;
#X obj 777 -206 r _lfo2-to-amplitude;
#X obj 681 -179 r _osc2-finetune;
#X obj 595 -179 r _lfo2-freq;
#X obj 410 -177 r _osc2-waveform;
#X text 651 -134 OSCILLATOR 2;
#X obj 339 24 +~;
#X obj 635 52 oscillator-lfo;
#X obj 511 -17 r _osc3-amplitude;
#X obj 636 -19 r _lfo3-waveform;
#X obj 747 -20 r _lfo3-to-freq;
#X obj 857 -20 r _lfo3-to-amplitude;
#X obj 490 9 r _osc3-waveform;
#X obj 675 7 r _lfo3-freq;
#X obj 761 7 r _osc3-finetune;
#X text 731 52 OSCILLATOR 3;
#X obj 339 80 +~;
#X obj 612 -45 / 2;
#X obj 198 1016 r _lp-resonance;
#X obj 172 636 r _lp-freq;
#X obj -35 639 r _lp-keyfollow;
#X obj -702 744 r _lp-contour;
#X obj -79 691 *;
#X obj 122 731 +;
#X obj -561 -120 stripnote;
#X obj -647 -76 bang;
#X obj -827 690 adsr;
#X msg -871 664 127;
#X obj -871 596 r _lp-envelope-a;
#X obj -825 618 r _lp-envelope-d;
#X obj -798 639 r _lp-envelope-s;
#X obj -779 663 r _lp-envelope-r;
#X msg 105 1044 frequency \$1;
#X msg -909 667 0;
#X obj -742 773 *;
#X obj -525 926 pow;
#X msg -553 896 2;
#X msg 60 771 bang;
#X msg -87 661 bang;
#X msg 123 672 bang;
#X obj 36 864 *;
#X obj -381 -90 bang;
#X obj -647 -43 s \$0-noteon;
#X obj -381 -64 s \$0-noteoff;
#X obj 211 -175 r \$0-noteon;
#X obj 802 -177 r \$0-noteon;
#X obj 882 9 r \$0-noteon;
#X obj -1024 623 r \$0-noteoff;
#X obj -943 622 r \$0-noteon;
#X obj -381 -118 == 0;
#X obj -522 863 +;
#X obj -361 584 r _lp-lfo-freq;
#X obj -310 637 r \$0-noteon;
#X obj -484 614 r _lp-lfo-waveform;
#X obj -389 662 oscillator;
#X obj -361 621 sig~;
#X text -995 553 Contour controls how much the envelop alters the cutoff
frequency of the filter. And is measured in octaves.;
#X text -494 561 This LFO also alters the filter cutoff frequency \,
also in octaves.;
#X text -327 692 <-- Same hack;
#X text 121 616 This is the "basic" lp freq value;
#X obj -586 618 loadbang;
#X msg -626 618 bang;
#X obj -608 651 metro 15;
#X obj -786 736 snapshot~;
#X obj -388 693 snapshot~;
#X obj -344 731 r _lp-lfo-amplitude;
#X obj -388 785 *;
#X msg -381 757 bang;
#X text -138 601 Keyfollow adds a value in Hz to the filter cutoff
f;
#X obj 270 1091 moog_lopass~;
#X obj 36 899 limit 20 20000 0;
#X text -297 909 FLopassTotal = (FLopass + MIDINoteFreq*keyfollow)
* 2^(contour*ADSR + lfoAmplitude*LFO);
#X text -1132 735 Ugly hack here. What's a better way to get a control
--> signal from an audio signal?;
#X obj 247 495 resonant_hipass~;
#X msg 92 467 frequency \$1;
#X msg 206 469 q \$1;
#X obj 206 430 r _hp-resonance;
#X obj -70 1012 s _lp_total_frequency;
#X obj 16 500 s _hp_total_frequency;
#X obj 92 432 limit 20 20000 0;
#X obj -5 203 r _hp-freq;
#X msg 89 207 bang;
#X text -84 182 This is the "basic" hp freq value;
#X obj 148 181 *;
#X msg 122 136 bang;
#X obj 174 114 r _hp-keyfollow;
#X obj 107 249 -;
#X obj -561 -44 s _midi-freq;
#X obj -77 -175 r _midi-freq;
#X text -68 80;
#X obj 514 -178 r _midi-freq;
#X obj 612 -74 r _midi-freq;
#X obj -139 638 r _midi-freq;
#X obj 71 113 r _midi-freq;
#X text -22 88 Keyfollow substracts a value in Hz to the filter cutoff
f;
#X obj 92 392 *;
#X msg 72 314 bang;
#X obj -445 429 pow;
#X msg -473 399 2;
#X obj -442 366 +;
#X obj -309 165 oscillator;
#X obj -281 124 sig~;
#X text -432 64 This LFO also alters the filter cutoff frequency \,
also in octaves.;
#X text -247 195 <-- Same hack;
#X obj -546 137 loadbang;
#X msg -586 137 bang;
#X obj -568 170 metro 15;
#X obj -308 196 snapshot~;
#X obj -308 288 *;
#X msg -301 260 bang;
#X obj -281 87 r _hp-lfo-freq;
#X obj -404 117 r _hp-lfo-waveform;
#X obj -264 234 r _hp-lfo-amplitude;
#X text -224 422 FHipassTotal = (FHiPass - MIDINoteFreq*keyfollow)
* 2^(contour*ADSR + lfoAmplitude*LFO);
#X obj -228 126 r \$0-noteon;
#X obj -808 223 adsr;
#X msg -852 197 127;
#X msg -890 200 0;
#X obj -723 306 *;
#X obj -1005 156 r \$0-noteoff;
#X obj -924 155 r \$0-noteon;
#X text -976 95 Contour controls how much the envelop alters the cutoff
frequency of the filter. And is measured in octaves.;
#X obj -767 269 snapshot~;
#X text -1113 268 Ugly hack here. What's a better way to get a control
--> signal from an audio signal?;
#X obj -852 129 r _hp-envelope-a;
#X obj -806 151 r _hp-envelope-d;
#X obj -780 170 r _hp-envelope-s;
#X obj -760 196 r _hp-envelope-r;
#X obj -683 277 r _hp-contour;
#X connect 0 0 6 0;
#X connect 1 0 2 1;
#X connect 2 0 4 0;
#X connect 3 0 96 0;
#X connect 5 0 114 0;
#X connect 6 0 51 0;
#X connect 6 1 7 0;
#X connect 6 1 51 1;
#X connect 6 1 76 0;
#X connect 8 0 9 0;
#X connect 9 0 1 0;
#X connect 11 0 1 1;
#X connect 12 0 1 2;
#X connect 13 0 1 3;
#X connect 14 0 1 4;
#X connect 15 0 20 0;
#X connect 16 0 20 1;
#X connect 17 0 20 4;
#X connect 18 0 20 3;
#X connect 19 0 20 5;
#X connect 20 0 33 0;
#X connect 22 0 20 7;
#X connect 23 0 20 6;
#X connect 24 0 33 1;
#X connect 25 0 24 1;
#X connect 26 0 24 3;
#X connect 27 0 24 5;
#X connect 28 0 24 7;
#X connect 29 0 24 6;
#X connect 30 0 24 4;
#X connect 31 0 24 0;
#X connect 33 0 43 0;
#X connect 34 0 43 1;
#X connect 35 0 34 1;
#X connect 36 0 34 3;
#X connect 37 0 34 5;
#X connect 38 0 34 7;
#X connect 39 0 34 0;
#X connect 40 0 34 4;
#X connect 41 0 34 6;
#X connect 43 0 100 1;
#X connect 44 0 34 2;
#X connect 45 0 3 0;
#X connect 46 0 50 1;
#X connect 46 0 66 0;
#X connect 47 0 49 1;
#X connect 47 0 65 0;
#X connect 48 0 61 1;
#X connect 49 0 50 0;
#X connect 50 0 64 0;
#X connect 50 0 67 1;
#X connect 51 0 52 0;
#X connect 51 0 5 0;
#X connect 52 0 69 0;
#X connect 53 0 90 0;
#X connect 54 0 53 0;
#X connect 55 0 53 1;
#X connect 56 0 53 2;
#X connect 57 0 53 3;
#X connect 58 0 53 4;
#X connect 59 0 96 0;
#X connect 60 0 53 0;
#X connect 61 0 77 0;
#X connect 62 0 67 0;
#X connect 63 0 62 0;
#X connect 64 0 67 0;
#X connect 65 0 49 0;
#X connect 66 0 50 0;
#X connect 67 0 97 0;
#X connect 68 0 70 0;
#X connect 71 0 20 8;
#X connect 72 0 24 8;
#X connect 73 0 34 8;
#X connect 74 0 60 0;
#X connect 75 0 54 0;
#X connect 76 0 68 0;
#X connect 77 0 63 0;
#X connect 77 0 62 1;
#X connect 78 0 82 0;
#X connect 79 0 81 2;
#X connect 80 0 81 0;
#X connect 81 0 91 0;
#X connect 82 0 81 1;
#X connect 87 0 89 0;
#X connect 88 0 89 0;
#X connect 89 0 90 0;
#X connect 89 0 91 0;
#X connect 90 0 61 0;
#X connect 91 0 93 0;
#X connect 92 0 93 1;
#X connect 92 0 94 0;
#X connect 93 0 77 1;
#X connect 94 0 93 0;
#X connect 96 1 2 0;
#X connect 97 0 59 0;
#X connect 97 0 104 0;
#X connect 100 1 96 1;
#X connect 101 0 100 0;
#X connect 102 0 100 0;
#X connect 103 0 102 0;
#X connect 106 0 101 0;
#X connect 106 0 105 0;
#X connect 107 0 113 0;
#X connect 108 0 113 0;
#X connect 110 0 113 1;
#X connect 110 0 108 0;
#X connect 111 0 110 0;
#X connect 112 0 110 1;
#X connect 112 0 111 0;
#X connect 113 0 122 1;
#X connect 113 0 123 0;
#X connect 115 0 20 2;
#X connect 117 0 24 2;
#X connect 118 0 44 0;
#X connect 119 0 49 0;
#X connect 120 0 110 0;
#X connect 122 0 106 0;
#X connect 123 0 122 0;
#X connect 124 0 122 0;
#X connect 125 0 124 0;
#X connect 126 0 125 0;
#X connect 126 0 124 1;
#X connect 127 0 134 0;
#X connect 128 0 127 1;
#X connect 131 0 133 0;
#X connect 132 0 133 0;
#X connect 133 0 134 0;
#X connect 133 0 149 0;
#X connect 134 0 135 0;
#X connect 135 0 126 1;
#X connect 136 0 135 0;
#X connect 137 0 128 0;
#X connect 138 0 127 0;
#X connect 139 0 135 1;
#X connect 139 0 136 0;
#X connect 141 0 127 2;
#X connect 142 0 149 0;
#X connect 143 0 142 0;
#X connect 144 0 142 0;
#X connect 145 0 126 0;
#X connect 146 0 144 0;
#X connect 147 0 143 0;
#X connect 149 0 145 0;
#X connect 151 0 142 1;
#X connect 152 0 142 2;
#X connect 153 0 142 3;
#X connect 154 0 142 4;
#X connect 155 0 145 1;
